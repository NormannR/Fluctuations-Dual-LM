\section{Detailed Calculations}

\subsection{Nash-bargaining joint surpluses}
\label{sec:nb_surplus}

Using the different definitions of surpluses with the free-entry condition -namely equations \eqref{eq:def_jp}, \eqref{eq:def_wp}, \eqref{eq:free_entry} and \eqref{eq:def_sp} - I get

\begin{align} \label{eq:sp_appendix}
\begin{split}
S_t^p \left( z_t \right) &= z_t - U_t + \mathbb{E}_t \beta_{t, t+1} U_{t+1} + F_t - \mathbb{E}_t \beta_{t,t+1} (1-s) F_{t+1}\\
&+ \mathbb{E}_t  \beta_{t,t+1} (1-s) \int \max \left( S_{t+1}^p (z), 0\right) dG(z)
\end{split}
\end{align}

Meanwhile, the definition of $U_t$ \eqref{eq:U} yields

\begin{align}
U_t = p\left(\theta_t \right) \int \max \left( W_t^{0,p} (z)-U_t^0, W_t^f (z)-U_t^0, 0 \right) dG(z) + U_{t}^0
\end{align}

Nash-sharing rules \eqref{eq:nash_0p} imply that
\begin{align}
U_t = p\left(\theta_t \right) \frac{\eta}{1-\eta} \int \max \left( J_t^{0,p} (z), J_t^{0,f} (z), \mathbb{E}_t \beta_{t, t+1} V_{t+1} \right) dG(z) + \left( 1 - p\left( \theta_t \right) \right) U_{t}^0
\end{align}

But the definition of $V_t$ \eqref{eq:def_v} and the free entry condition \eqref{eq:free_entry} imply that

\begin{align}
\int \max \left( J_t^{0,p} (z), J_t^{0,f} (z), \mathbb{E}_t \beta_{t, t+1} V_{t+1} \right) dG(z) = \frac{\gamma}{q\left( \theta_t \right)}
\end{align}

Since $p \left( \theta_t \right) = \theta_t q \left( \theta_t \right)$, the definition of $U_t$ boils down to

\begin{align}
U_t = \frac{\eta \gamma \theta_t}{1-\eta} + U_t^0
\end{align}

Consequently, using \eqref{eq:U0} the outside value of an incumbent worker is

\begin{align}
U_t = b + \frac{\eta \gamma \theta_{t}}{1-\eta} + \mathbb{E}_t \beta_{t,t+1} U_{t+1} \label{eq:nash_u}
\end{align}

Reintroducing \eqref{eq:nash_u} into \eqref{eq:sp} leads to the following expression for the surplus of continuing permanent contracts

\begin{align}
\begin{split}
S_t^p \left( z_t \right) &= A_t z_t \phi_t - b - \frac{\eta \gamma \theta_{t}}{1-\eta} + F_t - \mathbb{E}_t \beta_{t,t+1} (1-s) F_{t+1}\\
&+ \mathbb{E}_t  \beta_{t,t+1} (1-s) \int \max \left( S_{t+1}^p (z), 0 \right) dG(z)
\end{split}
\end{align}

Following the same steps, I find that

\begin{align}
S_t^{0,p} \left( z_t \right) = S_t^p \left( z_t \right) - F_t
\end{align}

As for temporary contracts, equations \eqref{eq:def_jf}, \eqref{eq:def_wf} and \eqref{eq:free_entry} boil down to

\begin{align}
S_t^f \left( z_t \right) = \rho A_t z_t \phi_t - U_t + \mathbb{E}_t \beta_{t,t+1} \left\{ (1-\delta) \int S_{t+1}^f (z) dG(z) + U_{t+1} \right\}
\end{align} 

Using \eqref{eq:nash_u}, the surplus of incumbent fixed-term contracts is

\begin{align}
S_t^f \left( z_t \right) = \rho A_t z_t \phi_t - b - \frac{\eta \gamma \theta_{t}}{1-\eta} + \mathbb{E}_t \beta_{t,t+1} (1-\delta) \left\{  \int S_{t+1}^f (z) dG(z) \right\} 
\end{align}

\begin{align*}
\begin{split}
w_t^p &=  \eta \left( A_t \phi_t \mathbb{E}_t \left[ z \mid z \geq z_t^p \right] + F_t\right) \frac{(1-\xi_t)n_{t-1}^p}{n_t^p} + \eta A_t \phi_t \mathbb{E}_t \left[ z \mid z \geq z_t^* \right] \frac{v_t q( \theta_t ) \left( 1-G\left( z_t^* \right)\right)}{n_t^p}\\
&+ \eta \left( -\mathbb{E}_t \beta_{t,t+1} (1-s) F_{t+1} + \gamma \theta_{t} \right) + (1-\eta) b_t
\end{split}\\
w_t^f &=  \eta \rho A_t \phi_t \left( (1-\delta) \mathbb{E}z \frac{n_{t-1}^f}{n_t^f} +  \mathbb{E}_t \left[ z \mid z_t^f \leq z \leq z_t^* \right] \frac{v_t q( \theta_t ) \left( G\left( z_t^* \right) - G\left( z_t^f \right)\right)}{n_t^f} + \gamma \theta_{t} \right) + (1-\eta) b_t\\
\overline{w_t^p} &= \eta \left( A_t \phi_t \mathbb{E}_t \left[ z \mid z \geq z_t^p \right] + F_t -\mathbb{E}_t \beta_{t,t+1} (1-s) F_{t+1} + \gamma \theta_t \right) + (1-\eta) b_t
\end{align*}

\begin{align*}
\begin{split}
&\left( 1 - \rho^F (1-\xi) \eta \right) F \widehat{F_t} - \eta \left( A \phi \mathbb{E} \left[ z \mid z \geq z^p \right] + F\right) (1-\xi) \widehat{n_{t-1}^p}\\
&+ \eta \left( (1-\xi) \left( A \phi \mathbb{E} \left[ z \mid z \geq z^p \right] + F\right) + A \phi \mathbb{E} \left[ z \mid z \geq z^* \right] \frac{v q(\theta) \left( 1 - G\left( z^*\right) \right)}{n^p}\right) \widehat{n_t^p}
\end{split}
\end{align*}


\subsection{Steady-state equations}

Given parameters $\beta, \sigma, \eta, \sigma_z, \epsilon, \rho^F, \rho^b, h, \delta, \rho, m, \gamma$, we need to derive the steady-state values of $R, c, Y, n^p, n^f, u, \Delta, z^p, z^c, z^f, z^*, \theta, \phi, v, \pi,  A, g, F, b$. Some of them can be directly computed through the following equations

\begin{align*}
R &= 1/\beta \\
\phi &= \frac{\epsilon - 1}{\epsilon}\\
P &= P^* = \Delta = 1\\
A &= 1
\end{align*}

Given $\left( z^p , \theta, b \right)$, many variables can be derived in a tractable way.

\begin{align*}
q &= m \theta^{-\sigma}\\
p &= \theta q\\
U &= b + \frac{\eta \gamma \theta}{1-\eta}
\end{align*}

The following system in $\left( F, \overline{w^p} \right)$ is tractable.

\begin{align*}
&\overline{w^p} = \eta \phi \mathbb{E} \left[ z \mid z \geq z^p \right] + (1-\beta(1-s)) F + (1-\eta) U \\
&F = \rho^F \overline{w^p} 
\end{align*}

It delivers the following value for $F$.

\begin{align*}
F &= \frac{\rho^F \phi}{1 - \rho^F (1 - \beta (1-s))} \left( \eta \mathbb{E} \left[ z \mid z \geq z^p \right] + (1-\eta) U \right)\\
\end{align*}

Some variables can then be computed directly.

\begin{align*}
z^c &= z^p + \frac{F}{\phi} \\
z^f &= \frac{U - \rho \phi (1-\delta) \beta \mathbb{E}z}{\rho \phi \left( 1-\beta (1-\delta)\right)}\\
z^* &= \frac{z^c - \rho z^f}{1-\rho}\\
\xi &= s + (1-s) G\left( z^p \right)\\
w^p &= \eta \phi \left( (1-\xi) \mathbb{E} \left[ z \mid z \geq z^p \right] + \xi \mathbb{E} \left[ z \mid z \geq z^* \right]\right) + \eta \left( (1-\xi) F - \eta \beta (1-s) F \right) + (1-\eta) U\\
w^f &= \eta \phi \rho \left( (1-\delta) \mathbb{E} z + \delta \mathbb{E} \left[ z \mid z^f \geq z \geq z^* \right] \right) + (1-\eta) U\\
\mu^p &= p \left( 1-G\left( z^*\right)\right)\\
\mu^f &= p \left( G\left( z^*\right) - G\left( z^f\right) \right)
\end{align*}

Solving the following linear system yields $\left( n^p, n^f, u, e\right)$.

\begin{align*}
&n^p + n^f + u = 1\\
&e = u + \delta n^f + \xi n^p\\
&n^p =  \left(1-\xi\right) n^p + \mu^p e\\
&n^f =  \left(1-\delta\right) n^f + \mu^f e
\end{align*}

The resulting expressions are

\begin{align*}
n^p &= \frac{\delta \mu^p}{\xi (1-\delta) \mu^f + \delta (1-\xi) \mu^p + \xi \delta}\\
n^f &= \frac{\xi \mu^f}{\xi (1-\delta) \mu^f + \delta (1-\xi) \mu^p + \xi \delta}\\
u &= 1-n^p-n^f\\
e &= u+\xi n^p + \delta n^f
\end{align*}

Average wages of open-ended and fixed-term workers $w^p$ and $w^f$ write

\begin{align*}
w^p &= \eta \phi \left( (1-\xi) \mathbb{E} \left[ z \mid z \geq z^p \right] + \xi \mathbb{E} \left[ z \mid z \geq z^* \right]\right) + \eta \left( (1-\xi) F - \eta \beta (1-s) F \right) + (1-\eta) U\\
w^f &= \eta \phi \rho \left( (1-\delta) \mathbb{E} z + \delta \mathbb{E} \left[ z \mid z^f \geq z \geq z^* \right] \right) + (1-\eta) U\\
\end{align*}

Consequently, the average wage for all workers is

\begin{align*}
w = \frac{n^f}{n} w^f + \frac{n^p}{n} w^p
\end{align*}

Then, one can circumscribe $\left( z^p , \theta, b \right)$ by solving the following system numerically.

\begin{align*}
&\phi z^p + \left( 1 - \beta (1-s) \right) F + (1-s)  \beta \phi \int_{z^p}^{+\infty} \left( 1 - G(z) \right) dz = U\\
&\frac{\gamma}{(1-\eta) \phi q} = \int_{ z^* }^{+\infty} \left( 1-G(z) \right) dz + \rho \int_{z^f}^{z_t^*} \left( 1-G(z) \right) dz\\
&b = \rho^b w + h
\end{align*}

Now, the steady-state values $v$, $Y$, $g$ and $c$ can be obtained.

\begin{align*}
v &= \theta e\\
\begin{split}
Y &= \left(1-\xi\right) \mathbb{E}_z \left[z \mid z \geq z^p \right] n^p + \mu^p \mathbb{E}_z \left[z \mid z \geq z^* \right] e\\
&+ \rho \left(1-\delta\right)  \mathbb{E}_z \left[ z \right]  n^f + \rho \mu^f \mathbb{E}_z \left[z \mid z^* \geq z \geq z^f \right] e\\
\end{split}\\
g &= Y \left( \frac{g}{Y} \right)\\
c &= Y-g-\gamma v
\end{align*}

\subsection{Log-linearization}

The Euler equation can be log-linearized starting from

\begin{equation}
\widehat{c_t} = \widehat{E_t c_{t+1}} - \left[-\frac{c u''}{u} \right]^{-1} \left( \widehat{R_t} - \widehat{E_t \pi_{t+1}}\right)
\end{equation}

where $\pi_t = P_t / P_{t-1}$ denotes inflation.

The definition of price level dynamics \eqref{eq:lm_price} can be log-linearized as

\begin{equation}
\widehat{\pi_t} = (1-\psi) \left( \widehat{P_t^*} - \widehat{P_{t-1}} \right) \label{eq:lm_price_ll}
\end{equation}

The retailers' price-setting equation \eqref{eq:price_eq} becomes

\begin{equation}
\widehat{P_t^*} = (1-\beta\psi) \mathbb{E}_t \sum_{k=0}^{+\infty} (\beta\psi)^{k} \left( \widehat{P_{t+k}} + \widehat{\phi_{t+k}} \right)
\end{equation}

Substracting $\widehat{P_{t-1}}$ on each side of this equation, we get

\begin{align}
\widehat{P_t^*} - \widehat{P_{t-1}} &= (1-\beta\psi) \mathbb{E}_t \sum_{k=0}^{+\infty} (\beta\psi)^{k} \left( \widehat{P_{t+k}} - \widehat{P_{t-1}} + \widehat{\phi_{t+k}} \right)\\
&= \sum_{k=0}^{+\infty} (\beta\psi)^{k} \mathbb{E}_t \widehat{\pi_{t+k}} + (1-\beta\psi) \sum_{k=0}^{+\infty} (\beta\psi)^{k}  \mathbb{E}_t \widehat{\phi_{t+k}} \\
&= \beta \psi \left( \mathbb{E}_t \widehat{P_{t+1}^*} - \widehat{P_{t}} \right) + (1-\beta \psi) \widehat{\phi_t} + \widehat{\pi_t}
\end{align}

Using \eqref{eq:lm_price_ll}, we get

\begin{align}
\widehat{\pi_t} = \beta \mathbb{E}_t \widehat{\pi_{t+1}} + \kappa \widehat{\phi_t}
\end{align}

where $\kappa = (1-\beta \psi) (1-\psi) / \psi$.

The log-linearization of exogenous processes yields

\begin{align*}
\widehat{A_t} &= \rho_A \widehat{A_{t-1}} + \epsilon_t^A\\
\widehat{g_t} &= \rho_g \widehat{g_{t-1}} + \epsilon_t^g
\end{align*}

The other log-linearizations of equations \eqref{eq:zp}-\eqref{eq:zf}, \eqref{eq:zs} and \eqref{eq:taylor}-\eqref{eq:res_cons_int} yield

\begin{align*}
\begin{split}
&A \phi z^p \left( \widehat{A_t} + \widehat{z_t^p} + \widehat{\phi_t} \right) + \beta (1-s) \left( A \phi \int_{z^p}^{+\infty} \left( 1-G(z)\right) dz - F \right) \left( c_t - \mathbb{E}_t \widehat{c_{t+1}}\right)\\
&+ \beta (1-s) A \phi \left( \int_{z^p}^{+\infty} \left( 1-G(z)\right) dz \left( \mathbb{E}_t \widehat{A_{t+1}} + \mathbb{E}_t \widehat{\phi_{t+1}} \right) - \left( 1-G\left( z^p \right) \right) z^p \mathbb{E}_t \widehat{z_{t+1}^p} \right)\\
&+ F \widehat{F_t} - \beta (1-s) F \mathbb{E}_t \widehat{F_{t+1}} - b \widehat{b_t} - \frac{\eta \gamma \theta}{1-\eta} \widehat{\theta_{t}} = 0
\end{split}\\
\begin{split}
&\rho A \phi z^f \left( \widehat{A_t} + \widehat{z_t^f} + \widehat{\phi_t} \right) + \rho \beta (1-\delta) A \phi \left( \mathbb{E}z - z^f \right) \left( \mathbb{E}_t \widehat{A_{t+1}} + \mathbb{E}_t \widehat{\phi_{t+1}} + \widehat{c_t} - \mathbb{E}_t \widehat{c_{t+1}} \right)\\
& - \rho \beta (1-\delta) A \phi z^f \mathbb{E}_t \widehat{z_{t+1}^f} - b \widehat{b_t} - \frac{\eta \gamma \theta}{1-\eta} \widehat{\theta_{t}} = 0
\end{split}\\
&(1-\rho) z^* \widehat{z_t^*} - z^p \widehat{z_t^p} + \frac{F}{A\phi} \left( \widehat{A_t}+\widehat{\phi_t}\right)+\rho z^f \widehat{z_t^f} = 0\\
&\frac{\gamma}{(1-\eta) \phi q(\theta)} \left( - \widehat{A_t} - \widehat{\phi_t} + \sigma \widehat{\theta_t} \right) + (1-\rho) \left( 1 - G\left( z^* \right) \right) z^* \widehat{z_t^*} + \rho \left( 1 - G\left( z^f \right) \right)  z^f \widehat{z_t^f} = 0\\
&\widehat{R_t} = \rho_R \widehat{R_{t-1}} + \left( 1 - \rho_R \right) \left[ \rho_{\pi} \mathbb{E}_t \widehat{\pi_{t+1}} + \rho_{y} \widehat{Y_t} \right] + \epsilon_t^m\\
&\widehat{v_t} = \widehat{\theta_t} - \frac{\left(1 - \xi^p \right) \theta n^p}{v} \widehat{n_{t-1}^p} - \frac{\left( 1 - \delta \right) \theta n^f}{v} \widehat{n_{t-1}^f} + \frac{(1-s)\theta g\left( z^p \right) z^p n^p}{v} \widehat{z_t^p}\\
&\widehat{n_t^p} = \left( 1 - \xi \right) \widehat{n_{t-1}^p} - (1-s) z^p g\left(z^p\right) \widehat{z_t^p} + \frac{\left(1 - G\left( z^*\right)\right) q(\theta) v}{n^p} \left( \widehat{v_t} - \sigma \widehat{\theta_t} \right) - \frac{z^* g\left( z^* \right) q(\theta) v}{n^p} \widehat{z_t^*}\\
&\widehat{n_t^f} = \left( 1 - \delta \right) \widehat{n_{t-1}^f} + \frac{\left(G\left( z^*\right) - G\left( z^f\right)\right) q(\theta) v}{n^f} \left( \widehat{v_t} - \sigma \widehat{\theta_t} \right) + \frac{q(\theta) v}{n^f} \left( z^* g\left( z^* \right) \widehat{z_t^*} - z^f g\left( z^f \right) \widehat{z_t^f} \right)\\
&\widehat{Y_t} = \frac{c}{Y} \widehat{c_t} + \frac{g}{Y} \widehat{g_t} + \frac{\gamma v}{Y} \widehat{v_t}\\
\begin{split}
&\widehat{Y_t} = \widehat{A_t} + \frac{(1-s) \left( \int_{z^p}^{+\infty} zg(z) dz \right) n^p}{Y} \widehat{n_{t-1}^p} + \frac{\rho \left( 1 - \delta \right) \mathbb{E}z n^f}{Y} \widehat{n_{t-1}^f} - \frac{(1-s) n^p \left( z^p \right)^2 g\left( z^p \right)}{Y} \widehat{z_t^p}\\
&- (1-\rho) \left( z^* \right)^2 g\left( z^* \right) \frac{v q(\theta)}{Y} \widehat{z_t^*}- \rho \left( z^f \right)^2 g\left( z^f \right) \frac{v q(\theta)}{Y}\widehat{z_t^f}\\
&+ \left( \int_{z^*}^{+\infty} zg(z) dz + \rho \int_{z^f}^{z^*} zg(z) dz \right) \frac{v q(\theta)}{Y} \left( \widehat{v_t} - \sigma \widehat{\theta_t} \right)
\end{split}\\
\begin{split}
&F \left( 1-\rho^F \eta \right) \widehat{F_t} - \rho^F (1-\eta) b \widehat{b_t} - \rho^F \eta \left( \gamma \theta \widehat{\theta_t}  - \beta (1-s) F \left( \mathbb{E}_t \widehat{F_{t+1}} + \widehat{c_t} - \mathbb{E}_t \widehat{c_{t+1}} \right) \right)\\
&- \rho^F \eta \phi \left( \mathbb{E} \left[ z \mid z \geq z^p \right] \widehat{\phi_t} + \frac{\int_{z^p}^{+\infty} \left( 1-G(z)\right) dz - z^p \left( 1- G \left( z^p\right)\right)}{\left( 1- G \left( z^p\right)\right)^2} z^p g\left( z^p \right) \widehat{z_t^p}\right) = 0
\end{split}\\
\begin{split}
&w^p \widehat{w^p} - \eta (1-s) \phi \left( \int_{z^p}^{+\infty} zg(z)dz \widehat{n_{t-1}^p} - \left( z^p\right)^2 g \left( z^p\right) \widehat{z_t^p} \right) - \frac{\eta \phi q v}{n^p} \left( \int_{z^*}^{+\infty} zg(z)dz \left( -\sigma \widehat{\theta_t} + \widehat{v_t} \right) - \left( z^* \right)^2 g\left( z^*\right) \widehat{z_t^*} \right)\\
&- \eta \gamma \theta \widehat{\theta_t} - \eta F \left( (1-\xi) \widehat{F_t} - (1-s) z^p g \left( z^p \right) \widehat{z_t^p}\right) + \eta \beta (1-s) F \left( \widehat{c_t} - \mathbb{E}_t \widehat{c_{t+1}} + \mathbb{E}_t \widehat{F_{t+1}}\right) - (1-\eta) b \widehat{b_t} \\
&+ \eta \left( (1-s) \phi \int_{z^p}^{+\infty} zg(z) dz + (1-\xi) F + \frac{\phi q v}{n^p} \int_{z^p}^{+\infty} zg(z) dz \right) \widehat{n_t^p}\\
&- \eta \phi \left( (1-s) \phi \int_{z^p}^{+\infty} zg(z) dz + \frac{\phi q v}{n^p} \int_{z^p}^{+\infty} zg(z) dz \right) \widehat{\phi_t} = 0
\end{split}\\
\begin{split}
&w^f \widehat{w_t^f} - \eta \rho \phi \left( (1-\delta) \mathbb{E}z + \frac{qv}{n^f} \int_{z^f}^{z^*} zg(z)dz \right) \left( \widehat{\phi_t} - \widehat{n_t^f}\right) - \eta \gamma \theta \widehat{\theta_t} - \eta \rho \phi (1-\delta) \mathbb{E}z \widehat{n_{t-1}^f}\\
&- \frac{\eta \rho \phi q v}{n^f} \left(  \int_{z^f}^{z^*} zg(z)dz \left( - \sigma \widehat{\theta_t} + \widehat{v_t} \right) + \left( z^*\right)^2 g \left( z^*\right) \widehat{z_t^*} - \left( z^f \right)^2 g \left( z^f \right) \widehat{z_t^f} \right) - (1-\eta)b\widehat{b_t}
\end{split}\\
&b \left( n^p + n^f\right) \widehat{b_t} + n^p \left( b - \left( \rho^b w^p + h \right)\right) \widehat{n_t^p} + n^f \left( b - \left( \rho^b w^f + h \right)\right) \widehat{n_t^p} - \rho^b n^p w^p \widehat{w_t^p} - \rho^b n^f w^f \widehat{w_t^f} = 0
\end{align*}