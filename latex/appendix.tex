
\section{Detailed Calculations}

\subsection{Nash-bargaining joint surpluses}
\label{sec:nb_surplus}

Using the different definitions of surpluses with the free-entry condition -namely equations \eqref{eq:def_jp}, \eqref{eq:def_wp}, \eqref{eq:free_entry} and \eqref{eq:def_sp} - I get

\begin{align} \label{eq:sp_appendix}
\begin{split}
S_t^p \left( z_t \right) &= z_t - U_t + F_t - \mathbb{E}_t \beta_{t,t+1} (1-s) F_{t+1}\\
&+ \mathbb{E}_t  \beta_{t,t+1} \left\{ (1-s)\int_{z_{t+1}^p}^{+\infty} S_{t+1}^p (z) dG(z) + \left(1-\xi_{t+1}\right) U_{t+1} + \xi_{t+1} \widehat{U_{t+1}}\right\}
\end{split}
\end{align}

Meanwhile, the definition of $\widehat{U_t}$ \eqref{eq:def_uhat} yields

\begin{align}
\widehat{U_t} = U_t + p\left(\theta_t \right) \left( \int_{H_t^p} \left( W_t^{0,p} (z) - U_t \right) dG(z) + \int_{H_t^f} \left( W_t^{f} (z) - U_t \right) dG(z) \right)
\end{align}

Nash-sharing rules \eqref{eq:nash_0p} imply that
\begin{align}
\widehat{U_t} = U_t + \frac{\eta}{1-\eta} p\left(\theta_t \right) \left( \int_{H_t^p} J_t^{0,p} (z) dG(z) + \int_{H_t^f} J_t^f (z) dG(z) \right)
\end{align}

But \eqref{eq:def_v} and \eqref{eq:free_entry} imply that
\begin{align}
\int_{H_t^p} J_t^{0,p} (z) dG(z) + \int_{H_t^f} J_t^f (z) dG(z) = \frac{\gamma}{q\left( \theta_t \right)}
\end{align}

Since $p \left( \theta_t \right) = \theta_t q \left( \theta_t \right)$, the definition of $\widehat{U_t}$ boils down to

\begin{align}
\widehat{U_t} = U_t + \frac{\eta \gamma \theta_t}{1-\eta} \label{eq:nash_uhat}
\end{align}

Consequently, the present discounted value of unemployment equals

\begin{align}
U_t = b + \mathbb{E}_t \beta_{t,t+1} U_{t+1} + \mathbb{E}_t \beta_{t,t+1} \frac{\eta \gamma \theta_{t+1}}{1-\eta} \label{eq:nash_u}
\end{align}

Reintroducing \eqref{eq:nash_uhat} and \eqref{eq:nash_u} into \eqref{eq:sp} leads to the following expression for the surplus of continuing permanent contracts

\begin{align}
\begin{split}
S_t^p \left( z_t \right) &= A_t z_t \phi_t - b + F_t - \mathbb{E}_t \beta_{t,t+1} (1-s) F_{t+1} - \mathbb{E}_t \beta_{t,t+1} \left( 1 - \xi_{t+1} \right) \frac{\eta \gamma \theta_{t+1}}{1-\eta}\\
&+ \mathbb{E}_t  \beta_{t,t+1} (1-s) \int_{z_{t+1}^p}^{+\infty} S_{t+1}^p (z) dG(z)
\end{split}
\end{align}

Following the same steps, I find that

\begin{align}
S_t^{0,p} \left( z_t \right) = S_t^p \left( z_t \right) - F_t
\end{align}


As for temporary contracts, equations \eqref{eq:def_jf}, \eqref{eq:def_wf} and \eqref{eq:free_entry} boil down to

\begin{align}
S_t^f \left( z_t \right) = \rho A_t z_t \phi_t - U_t + \mathbb{E}_t \beta_{t,t+1} \left\{ (1-\delta) \int S_{t+1}^f (z) dG(z) + (1-\delta) U_{t+1} + \delta \widehat{U_{t+1}} \right\}
\end{align} 

Using \eqref{eq:nash_uhat} and \eqref{eq:nash_u}, the surplus of temporary contracts is

\begin{align}
S_t^f \left( z_t \right) = \rho A_t z_t \phi_t - b - \mathbb{E}_t \beta_{t,t+1} (1-\delta) \frac{\eta \gamma \theta_{t+1}}{1-\eta} + \mathbb{E}_t \beta_{t,t+1} (1-\delta) \left\{  \int S_{t+1}^f (z) dG(z) \right\} 
\end{align}

Notice that $\partial S_t^p / \partial z_t = A_t \phi_t$ and $\partial S_t^f / \partial z_t = \rho A_t \phi_t$ Moreover, $S_t^p \left( z_t^p \right) = 0$ and $S_t^f \left( z_t^f \right) = 0$ by definition. Thus, integration by parts lead to the following expressions for continuing permanent matches and temporary matches

\begin{align}
\begin{split}
S_t^p \left( z_t \right) &= A_t z_t \phi_t - b + F_t - \mathbb{E}_t \beta_{t,t+1} (1-s) F_{t+1} - \mathbb{E}_t \beta_{t,t+1} \left( 1 - \xi_{t+1} \right) \frac{\eta \gamma \theta_{t+1}}{1-\eta}\\
&+ \mathbb{E}_t  \beta_{t,t+1} (1-s) A_{t+1} \phi_{t+1} \int_{z_{t+1}^p}^{+\infty} \left( 1 -  G(z) \right) dG(z)
\end{split}\\
S_t^f \left( z_t \right) &= \rho A_t z_t \phi_t - b - \mathbb{E}_t \beta_{t,t+1} (1-\delta) \frac{\eta \gamma \theta_{t+1}}{1-\eta} + \rho \mathbb{E}_t \beta_{t,t+1} (1-\delta) A_{t+1} \phi_{t+1} \left( \mathbb{E}z - z_{t+1}^f \right) 
\end{align}

\subsection{Steady-state equations}

Given the parameters $\beta, \sigma, \eta, \sigma_z, \epsilon, F, b, , \delta, \rho, m, \gamma$, we need to derive the steady-state values of the variables $R, c, Y, n^p, n^f, u, \Delta, z^p, z^c, z^f, z^*, \theta, \phi, v, \pi,  A, \mu , g$. Some of them can be directly computed through the following equations

\begin{align*}
R &= 1/\beta \\
\mu &= 1/\phi\\
\phi &= \frac{\epsilon - 1}{\epsilon}\\
P &= P^* = \Delta = 1\\
A &= 1
\end{align*}

Given $\left( z^p , \theta \right)$, $\left( q, \xi, z^f, z^c, z^* \right)$ can be directly derived.

\begin{align*}
q &= m \theta^{-\sigma}\\
\xi &= s+(1-s)G\left( z^p \right)\\
z^c &= z^p + \frac{F}{\phi}\\
z^f &= \frac{b + \beta (1-\delta) \left( \frac{\eta \gamma \theta}{1-\eta} - \rho \phi \mathbb{E}z \right)}{\rho \phi (1-\beta (1-\delta))}\\
z^* &= \frac{z^c - \rho z^f}{1-\rho}
\end{align*}

It is then possible to solve the following system in $\left( z^p , \theta \right)$.

\begin{align*}
&\phi z^p + \left[ 1 - (1-s)  \beta \right] F + (1-s)  \beta \phi \int_{z^p}^{+\infty} \left( 1 - G(z) \right) dz = b + \beta \left( 1 - \xi \right) \frac{\eta \gamma \theta}{1-\eta}\\
&\frac{\gamma}{(1-\eta) \phi q\left( \theta \right)} = \int_{z^*}^{+\infty} \left[ 1 - G(z) \right] dz + \rho \int_{z^f}^{z^*} \left[ 1 - G(z) \right] dz\\
\end{align*}

At this point, the values $\left( z^p , \theta, q, \xi, z^f, z^c, z^* \right)$ are known. One can compute right away $p$, $\mu^p$ and $\mu^f$.

\begin{align*}
p &= \theta q\\
\mu^p &= p \left( 1-G\left( z^*\right)\right)\\
\mu^f &= p \left( G\left( z^*\right) - G\left( z^f\right)\right)
\end{align*} 

Pinpointing $\left( n^p, n^f, u, e\right)$ involves the following linear system.

\begin{align*}
    &n^p + n^f + u = 1\\
    &e = u + \delta n^f + \xi n^p\\
    &n^p =  \left(1-\xi\right) n^p + \mu^p e\\
    &n^f =  \left(1-\delta\right) n^f + \mu^f e
\end{align*}

Solving this system yields

\begin{align*}
n^p &= \frac{\delta \mu^p}{\xi (1-\delta) \mu^f + \delta (1-\xi) \mu^p + \xi \delta}\\
n^f &= \frac{\xi \mu^f}{\xi (1-\delta) \mu^f + \delta (1-\xi) \mu^p + \xi \delta}\\
u &= 1-n^p-n^f\\
e &= u+\xi n^p + \delta n^f
\end{align*}

Now, the steady-state values $v$, $Y$, $g$ and $c$ can be obtained.

\begin{align*}
v &= \theta e\\
\begin{split}
Y &= \left(1-\xi\right) \mathbb{E}_z \left[z \mid z \geq z^p \right] n^p + \mu^p \mathbb{E}_z \left[z \mid z \geq z^* \right] e\\
&+ \rho \left(1-\delta\right)  \mathbb{E}_z \left[ z \right]  n^f + \rho \mu^f \mathbb{E}_z \left[z \mid z^* \geq z \geq z^f \right] e\\
\end{split}\\
g &= Y \left( \frac{g}{Y} \right)\\
c &= Y-g-\gamma v
\end{align*}

\newpage 
\subsection{Log-linearization}

The Euler equation can be derived from \eqref{eq:euler_eq}-\eqref{eq:def_um}.

\begin{equation*}
    u' \left( c_t \right) = \beta R_t \mathbb{E}_t \left[ \frac{P_t}{P_{t+1}} u' \left( c_{t+1} \right) \right]
\end{equation*}

which becomes

\begin{equation}
    \widehat{c_t} = \widehat{E_t c_{t+1}} - \left[-\frac{c u''}{u} \right]^{-1} \left( \widehat{R_t} - \widehat{E_t \pi_{t+1}}\right)
\end{equation}

where $\pi_t = P_t / P_{t-1}$ denotes inflation.

The definition of price level dynamics \eqref{eq:lm_price} can be log-linearized as

\begin{equation}
    \widehat{\pi_t} = (1-\psi) \left( \widehat{P_t^*} - \widehat{P_{t-1}} \right) \label{eq:lm_price_ll}
\end{equation}

The retailers' price-setting equation \eqref{eq:price_eq} becomes

\begin{equation}
    \widehat{P_t^*} = (1-\beta\psi) \mathbb{E}_t \sum_{k=0}^{+\infty} (\beta\psi)^{k} \left( \widehat{P_{t+k}} + \widehat{\mu_{t+k}} + \widehat{\phi_{t+k}} \right)
\end{equation}

Substracting $\widehat{P_{t-1}}$ on each side of this equation, we get

\begin{align}
    \widehat{P_t^*} - \widehat{P_{t-1}} &= (1-\beta\psi) \mathbb{E}_t \sum_{k=0}^{+\infty} (\beta\psi)^{k} \left( \widehat{P_{t+k}} - \widehat{P_{t-1}} + \widehat{\mu_{t+k}} + \widehat{\phi_{t+k}} \right)\\
    &= \sum_{k=0}^{+\infty} (\beta\psi)^{k} \mathbb{E}_t \widehat{\pi_{t+k}} + (1-\beta\psi) \sum_{k=0}^{+\infty} (\beta\psi)^{k}  \mathbb{E}_t \left( \widehat{\mu_{t+k}} + \widehat{\phi_{t+k}} \right)\\
    &= \beta \psi \left( \mathbb{E}_t \widehat{P_{t+1}^*} - \widehat{P_{t}} \right) + (1-\beta \psi) \left( \widehat{\mu_t} + \widehat{\phi_t}\right) + \widehat{\pi_t}
\end{align}

Using \eqref{eq:lm_price_ll}, we get

\begin{align}
\widehat{\pi_t} = \beta \mathbb{E}_t \widehat{\pi_{t+1}} + \kappa \left( \widehat{\mu_t} + \widehat{\phi_t} \right)
\end{align}

where $\kappa = (1-\beta \psi) (1-\psi) / \psi$.

The log-linearization of exogenous processes yields

\begin{align*}
\widehat{A_t} &= \rho_A \widehat{A_{t-1}} + \epsilon_t^A\\
\widehat{\mu_t} &= \rho_\mu \widehat{\mu_{t-1}} + \epsilon_t^\mu\\
\widehat{g_t} &= \rho_g \widehat{g_{t-1}} + \epsilon_t^g
\end{align*}

The other log-linearizations of equations \eqref{eq:zp}-\eqref{eq:zf}, \eqref{eq:zs} and \eqref{eq:taylor}-\eqref{eq:res_cons_int} yield

\begin{align*}
\begin{split}
&A \phi z^p \left( \widehat{A_t} + \widehat{z_t^p} + \widehat{\phi_t} \right) - \left( A \phi z^p + F - b \right) \left( c_t - \mathbb{E}_t \widehat{c_{t+1}}\right)\\
&+ \beta (1-s) A \phi \int_{z^p}^{+\infty} \left( 1-G(z)\right) dz \left( \mathbb{E}_t \widehat{A_{t+1}} + \mathbb{E}_t \widehat{\phi_{t+1}} \right)\\
&-\beta (1-\xi) \frac{\eta \gamma \theta}{1-\eta} \mathbb{E}_t \theta_{t+1} + \beta (1-s) z^p \left( - A \phi \left( 1-G\left( z^p \right) \right) + \frac{\eta \gamma \theta}{1-\eta} g\left( z^p\right) \right) \mathbb{E}_t \widehat{z_{t+1}^p} = 0
\end{split}\\
\begin{split}
&\rho A \phi z^f \left( \widehat{A_t} + \widehat{z_t^f} + \widehat{\phi_t} \right) + \rho \beta (1-\delta) A \phi \left( \mathbb{E}z - z^f \right) \left( \mathbb{E}_t \widehat{A_{t+1}} + \mathbb{E}_t \widehat{\phi_{t+1}}\right)\\
& - \left( \rho A \phi z^f - b \right) \left( \widehat{c_t} - \mathbb{E}_t \widehat{c_{t+1}}\right) - \rho \beta (1-\delta) A \phi z^f \mathbb{E}_t \widehat{z_{t+1}^f} - \beta (1-\delta) \frac{\eta \gamma \theta}{1-\eta} \mathbb{E}_t \widehat{\theta_{t+1}} = 0
\end{split}\\
&(1-\rho) z^* \widehat{z_t^*} - z^p \widehat{z_t^p} + \frac{F}{A\phi} \left( \widehat{A_t}+\widehat{\phi_t}\right)+\rho z^f \widehat{z_t^f} = 0\\
&\frac{\gamma}{(1-\eta) \phi q(\theta)} \left( - \widehat{A_t} - \widehat{\phi_t} + \sigma \widehat{\theta_t} \right) + (1-\rho) \left( 1 - G\left( z^* \right) \right) z^* \widehat{z_t^*} + \rho \left( 1 - G\left( z^f \right) \right)  z^f \widehat{z_t^f} = 0\\
&\widehat{R_t} = \rho_R \widehat{R_{t-1}} + \left( 1 - \rho_R \right) \left[ \rho_{\pi} \mathbb{E}_t \widehat{\pi_{t+1}} + \rho_{y} \widehat{Y_t} \right] + \epsilon_t^m\\
&\widehat{v_t} = \widehat{\theta_t} - \frac{\left(1 - \xi^p \right) \theta n^p}{v} \widehat{n_{t-1}^p} - \frac{\left( 1 - \delta \right) \theta n^f}{v} \widehat{n_{t-1}^f} + \frac{(1-s)\theta g\left( z^p \right) z^p n^p}{v} \widehat{z_t^p}\\
&\widehat{n_t^p} = \left( 1 - \xi^p \right) \widehat{n_{t-1}^p} - (1-s) z^p g\left(z^p\right) \widehat{z_t^p} + \frac{\left(1 - G\left( z^*\right)\right) q(\theta) v}{n^p} \left( \widehat{v_t} - \sigma \widehat{\theta_t} \right) - \frac{z^* g\left( z^* \right) q(\theta) v}{n^p} \widehat{z_t^*}\\
&\widehat{n_t^f} = \left( 1 - \delta \right) \widehat{n_{t-1}^f} + \frac{\left(G\left( z^*\right) - G\left( z^f\right)\right) q(\theta) v}{n^f} \left( \widehat{v_t} - \sigma \widehat{\theta_t} \right) + \frac{q(\theta) v}{n^f} \left( z^* g\left( z^* \right) \widehat{z_t^*} - z^f g\left( z^f \right) \widehat{z_t^f} \right)\\
&\widehat{Y_t} = \frac{c}{Y} \widehat{c_t} + \frac{g}{Y} \widehat{g_t} + \frac{\gamma v}{Y} \widehat{v_t}\\
\begin{split}
&\widehat{Y_t} = \widehat{A_t} + \frac{(1-s) \left( \int_{z^p}^{+\infty} zg(z) dz \right) n^p}{Y} \widehat{n_{t-1}^p} + \frac{\rho \left( 1 - \delta \right) \mathbb{E}z n^f}{Y} \widehat{n_{t-1}^f} - \frac{(1-s) n^p \left( z^p \right)^2 g\left( z^p \right)}{Y} \widehat{z_t^p}\\
&- (1-\rho) \left( z^* \right)^2 g\left( z^* \right) \frac{v q(\theta)}{Y} \widehat{z_t^*}- \rho \left( z^f \right)^2 g\left( z^f \right) \frac{v q(\theta)}{Y}\widehat{z_t^f}\\
&+ \left( \int_{z^*}^{+\infty} zg(z) dz + \rho \int_{z^f}^{z^*} zg(z) dz \right) \frac{v q(\theta)}{Y} \left( \widehat{v_t} - \sigma \widehat{\theta_t} \right)
\end{split}
\end{align*}

\section{Estimation}

\subsection{Calibration}

The calibration of parameters is carried out as follows. A first block can be directly derived using tractable expressions.

\begin{align*}
\mu &= \frac{\epsilon}{\epsilon - 1}\\
\phi &= \frac{1}{\mu}\\
u &= 1-n\\
n^f &= n \left( \frac{n^f}{n} \right)\\
n^p &= n-n^f\\
s &= \xi\left(\frac{s}{\xi}\right)\\
\delta &= \frac{\left( 1 - \left( \frac{n^f}{n} \right) \right) \left( \frac{\mu^f}{\mu^p+\mu^f}\right)}{\left( \frac{n^f}{n} \right) \left( 1-\left( \frac{\mu^f}{\mu^p+\mu^f}\right)\right)} \xi\\
e &= u+\delta n^f + \xi n^p\\
\mu^p &= \frac{\xi n^p}{e}\\
\mu^f &= \frac{\delta n^f}{e}\\
\end{align*}

A second block needs some numerical solver to be pinpointed. Given $\left( z^p, F, z^*, z^f\right)$, it is possible to derive tractable expressions for $\left( z^c, \theta, \rho, \gamma \right)$ through the following calculations

\begin{align*}
z^c &= z^p + \frac{F}{\phi}\\
p &= \frac{\mu^p}{1-G\left( z^*\right)}\\
\theta &= \frac{p}{q}\\
\rho &= \frac{z^* - z^c}{z^* - z^f}\\
\gamma &= (1-\eta) \phi q \left( \int_{z^*}^{+\infty} \left( 1 - G(z) \right) dz + \rho \int_{z^f}^{z^*} \left( 1 - G(z) \right) dz \right)
\end{align*}

I also define the following intermediate variables

\begin{align*}
U^p &= \phi z^p + (1-\beta (1-s) )F + \beta (1-s) \phi \int_{z^p}^{+\infty} \left( 1- G(z) \right) dz\\
U^f &= \rho \phi \left( (1-\beta (1-\delta)) z^f + \beta (1-\delta) \mathbb{E}z \right)\\
b^p &= U^p - \beta (1-\xi) \frac{\eta \gamma \theta}{1-\eta}\\
b^f &= U^f - \beta (1-\delta) \frac{\eta \gamma \theta}{1-\eta}\\
\overline{w^p} &= \eta \phi \left( (1-\xi) \mathbb{E} \left[ z \mid z \geq z^p \right] + \xi \mathbb{E} \left[ z \mid z \geq z^* \right]\right) + (1-\xi) \eta F - \eta \beta (1-s) F + (1-\eta) U^p
\end{align*}

Using the latter expressions, I find $\left( z^p, F, z^*, z^f\right)$ by numerically solving the system

\begin{align*}
\xi &= s+(1-s)G\left(z^p\right)\\
\left( \frac{\mu^f}{\mu^p+\mu^f} \right) &= \frac{G\left( z^* \right) - G\left( z^f \right)}{1 - G\left( z^f \right)}\\
F &= \overline{w^p} \left( \frac{F}{\overline{w^p}} \right)\\
b^p &= b^f
\end{align*}

It is then possible to compute $m$ and $b$ as follows
\begin{align*}
m &= q \theta^{\sigma}\\
b &= b^p
\end{align*}

The parameters $\left( F, b, s, \delta, \rho, m, \gamma \right)$ are all determined at this point

\subsection{Data}

\begin{table}[h]
\begin{tabular}{|c|c|}
\hline
Observable & Unique Identifier\\
\hline
GDP at constant prices & \href{https://sdw.ecb.europa.eu/browseTable.do?node=qview&SERIES_KEY=320.MNA.Q.Y.I8.W2.S1.S1.B.B1GQ._Z._Z._Z.EUR.LR.N&trans=N}{MNA.Q.Y.I8.W2.S1.S1.B.B1GQ.\_Z.\_Z.\_Z.EUR.LR.N}\\
GDP deflator - Quarterly growth rate & \href{https://sdw.ecb.europa.eu/quickview.do?SERIES_KEY=320.MNA.Q.Y.I8.W2.S1.S1.B.B1GQ._Z._Z._Z.IX.D.N}{MNA.Q.Y.I8.W2.S1.S1.B.B1GQ.\_Z.\_Z.\_Z.IX.D.N}\\
Nominal interest rates & \href{https://sdw.ecb.europa.eu/quickview.do?SERIES_KEY=143.FM.M.U2.EUR.4F.MM.EONIA.HSTA&start=&end=&submitOptions.x=0&submitOptions.y=0&trans=QF}{FM.M.U2.EUR.4F.MM.EONIA.HSTA}\\
Employment & \href{https://sdw.ecb.europa.eu/browseChart.do?node=qview&SERIES_KEY=390.ENA.Q.Y.I8.W2.S1.S1._Z.EMP._Z._T._Z.PS._Z.N}{ENA.Q.Y.I8.W2.S1.S1.\_Z.EMP.\_Z.\_T.\_Z.PS.\_Z.N}\\
\hline
\end{tabular}
\caption{Times series from ECB Data Warehouse}
\end{table}